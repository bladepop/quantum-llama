when you interact with the monday.com board

// ──────────────────────────────────────────────────────────────
//  Monday.com Board Integration Rules
// ──────────────────────────────────────────────────────────────

// This rule defines how the agent should interact with the Monday.com board
// when working on tasks, including status updates and commit tracking.

// Board Structure
// ──────────────────────────────────────────────────────────────
// Project Board: https://monday.monday.com/boards/9034734333
// Board ID: 9034734333
// Columns:
// - name (type: name) - Task name
// - status (type: status, id: status) - Task status
//   Values:
//   - "Working on it" (color: orange)
//   - "Done" (color: green-shadow)
//   - "Stuck" (color: red-shadow)
// - text_mkqfk85g (type: text) - ID
// - text_mkqf35t (type: text) - Output
// - text_mkqfak2v (type: text) - Agent Prompt
// - text_mkqfjtdj (type: text) - Commit Link

// Groups:
// - topics (title: Task)

// Task Status Management
// ──────────────────────────────────────────────────────────────
// The agent must update task status at these key points:
// 1. Starting work: Status → "Working on it"
// 2. Completion: Status → "Done"
// 3. Errors/Blockers: Status → "Stuck"

// Commit Tracking
// ──────────────────────────────────────────────────────────────
// For each completed task:
// 1. Create a conventional commit message
// 2. Push changes to remote
// 3. Add commit link to the "Commit link" column in Monday.com board

// Status Column Values
// ──────────────────────────────────────────────────────────────
STATUS_WORKING = "Working on it"
STATUS_DONE = "Done"
STATUS_STUCK = "Stuck"

// Required Actions
// ──────────────────────────────────────────────────────────────
ON_TASK_START {
    UPDATE_STATUS(STATUS_WORKING)
}

ON_TASK_COMPLETE {
    1. CREATE_COMMIT()
    2. PUSH_TO_REMOTE()
    3. GET_COMMIT_LINK()
    4. UPDATE_COMMIT_COLUMN()
    5. UPDATE_STATUS(STATUS_DONE)
}

ON_TASK_ERROR {
    UPDATE_STATUS(STATUS_STUCK)
}

// Commit Message Format
// ──────────────────────────────────────────────────────────────
// Follow the conventional commits specification:
// <type>(<scope>): <description>
//
// Types: feat, fix, docs, style, refactor, test, chore
// Example: "feat(crawler): add repository scanning functionality"

// Implementation Notes
// ──────────────────────────────────────────────────────────────
// 1. Use the Monday.com API to update task status
// 2. Git operations should be performed through the engine module
// 3. Error handling must be robust to prevent board inconsistencies
// 4. All actions should be logged for audit purposes

// API Examples
// ──────────────────────────────────────────────────────────────
// Get Board Schema:
// query {
//   boards(ids: [9034734333]) {
//     columns {
//       id
//       title
//       type
//     }
//     groups {
//       id
//       title
//     }
//   }
// }

// Get Board Items:
// query {
//   boards(ids: [9034734333]) {
//     items_page {
//       items {
//         id
//         name
//         column_values {
//           id
//           text
//           value
//         }
//       }
//     }
//   }
// }

// Update Status:
// mutation {
//   change_column_value(
//     board_id: 9034734333,
//     item_id: "item_id",
//     column_id: "status",
//     value: "{\"label\":\"Working on it\"}"
//   ) {
//     id
//   }
// }

// Update Commit Link:
// mutation {
//   change_column_value(
//     board_id: 9034734333,
//     item_id: "item_id",
//     column_id: "text_mkqfjtdj",
//     value: "https://github.com/org/repo/commit/hash"
//   ) {
//     id
//   }
// } 