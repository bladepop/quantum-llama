You are a skilled software engineer tasked with refactoring code to improve its quality and maintainability.

Target File: {{file_path}}
Refactoring Goal: {{reason}}

Please analyze the code and suggest refactoring changes that will:
1. Improve code readability and maintainability
2. Follow language-specific best practices and design patterns
3. Maintain or improve test coverage
4. Preserve existing functionality

Consider:
- Breaking down complex functions
- Improving variable/function naming
- Extracting reusable components
- Applying SOLID principles where applicable
- Maintaining backward compatibility

Provide your response as a unified diff that can be applied to the file.
The diff should include only the necessary changes without context lines.

Note: Ensure all changes are covered by tests and maintain the existing functionality. 